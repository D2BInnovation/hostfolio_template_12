<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="/vite.svg" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Portfolio</title>

  <!-- Preconnect for performance -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

  <!-- Custom cursor styles -->
  <style>
    * {
      cursor: none !important;
    }

    body {
      margin: 0;
      padding: 0;
      overflow-x: hidden;
    }

    /* Custom scrollbar */
    ::-webkit-scrollbar {
      width: 8px;
    }

    ::-webkit-scrollbar-track {
      background: rgba(0, 0, 0, 0.1);
    }

    ::-webkit-scrollbar-thumb {
      background: linear-gradient(45deg, #4f46e5, #d946ef);
      border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: linear-gradient(45deg, #6366f1, #e879f9);
    }

    /* Loading animation */
    .loading {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      transition: opacity 0.5s ease;
    }

    .loading.hide {
      opacity: 0;
      pointer-events: none;
    }

    .loading-spinner {
      width: 50px;
      height: 50px;
      border: 4px solid rgba(255, 255, 255, 0.1);
      border-left-color: #ffffff;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      to {
        transform: rotate(360deg);
      }
    }
  </style>
  <script id="hostfolio-native-fixes">
    (function () {
      async function updateTitle() {
        try {
          const response = await fetch('./data.json');
          if (!response.ok) throw new Error('data.json not found');
          const data = await response.json();
          if (data.personal && data.personal.name) {
            document.title = data.personal.name + ' | Portfolio';
          }
        } catch (e) {
          console.log('Title update skipped:', e.message);
        }
      }
      updateTitle();
      window.addEventListener('error', function (e) {
        if (e.target.tagName === 'IMG') {
          const img = e.target;
          if (img.dataset.fallbackApplied) return;
          img.dataset.fallbackApplied = 'true';
          img.style.display = 'none';
          const placeholder = document.createElement('div');
          placeholder.style.cssText = 'display:flex;align-items:center;justify-content:center;background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.1);border-radius:12px;width:100%;height:100%;min-height:100px;';
          placeholder.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="opacity:0.3"><rect width="18" height="18" x="3" y="3" rx="2" ry="2"/><circle cx="9" cy="9" r="2"/><path d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"/></svg>';
          img.parentNode.insertBefore(placeholder, img);
        }
      }, true);
    })();
  </script>
</head>

<body>
  <!-- Loading Screen -->
  <div id="loading" class="loading">
    <div class="loading-spinner"></div>
  </div>

  <div id="root"></div>
  <script type="module" src="/src/main.tsx"></script>

  <!-- Loading script -->
  <script>
    window.addEventListener('load', () => {
      const loading = document.getElementById('loading');
      if (loading) {
        loading.classList.add('hide');
        setTimeout(() => {
          loading.remove();
        }, 500);
      }
    });
  </script>
</body>

</html>